<library group="shader function libs">
	<shaderFunctionLib name="adjust alpha rand">
		<source>
			<function name="adjust_alpha_rand_down">
				<header>float adjust_alpha_rand_down(float _a)</header>
				<body>
					HIGHP float _amount = 20.0;
					HIGHP vec2 p = vec2(varPosition.x * 54.234 + varPosition.z * 23.252, varPosition.y * 94.345 + varPosition.z * 12.579);

					p += vec2( 0.07 * fract( time ) );
					p = fract(p * vec2(5.3987, 5.4421));
					p += dot(p.yx, p.xy + vec2(21.5351, 14.3137));

					HIGHP float pxy = p.x * p.y;
					float tri = (fract(pxy * 95.4307) + fract(pxy * 75.04961)) * 0.5; 
			#ifdef MAKE_IT_FASTER
					_a += (-tri) * 0.01 * _amount; // stronger
			#else
					_a += 0.00390625 * (-tri) * _amount;
			#endif
					return _a;
				</body>
			</function>
		</source>
	</shaderFunctionLib>
</library>
