<library group="postProcess">
	<fragmentShader name="vignette">
		<useWithPostProcessPipeline/>
		<source>
			<data>
				// uniform
				uniform sampler2D inData;

				// output
				out vec4 outData;
			</data>
			<mainBody>
				// vignette
				vec4 inputTexture = texture(inData, varUV);
				float amount = length((varUV - vec2(0.5, 0.5)) * 2.0);
				amount = 1.0 - amount * amount * 0.3;
				
				outData = inputTexture;
				outData.a = 1.0;
			</mainBody>
		</source>
		<outputs>
			<output name="outData"/>
		</outputs>
	</fragmentShader>
	<shaderProgram name="vignette" fragmentShader="vignette">
	</shaderProgram>

	post process'
	
	<postProcess name="vignette">
		<graph>
			<inputNode name="input">
				<output name="colour"/>
			</inputNode>
			<processorNode name="vignette" shaderProgram="vignette">
				<input name="inData" connectToNode="input" connectToConnector="colour"/>
			</processorNode>
			<outputNode name="output">
				<input name="colour" connectToNode="vignette" connectToConnector="outData"/>
			</outputNode>
		</graph>
	</postProcess>
</library>


